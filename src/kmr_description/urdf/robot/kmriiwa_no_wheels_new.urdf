<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from src/kmr_description/urdf/robot/kmriiwa_no_wheels_new.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="kmriiwa">
  <material name="Black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="Blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="Green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="Grey">
    <color rgba="0.4 0.4 0.4 1.0"/>
  </material>
  <material name="DarkGrey">
    <color rgba="0.3 0.3 0.3 1.0"/>
  </material>
  <material name="Orange">
    <color rgba="1.0 0.4235294117647059 0.0392156862745098 1.0"/>
  </material>
  <material name="Brown">
    <color rgba="0.8705882352941177 0.8117647058823529 0.7647058823529411 1.0"/>
  </material>
  <material name="Red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="White">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <material name="aluminum">
    <color rgba="0.5 0.5 0.5 1"/>
  </material>
  <!-- distance from wheel-floor contact point to base bottom side-->
  <link name="kmriiwa_base_footprint"/>
  <joint name="kmriiwa_footprint_to_base_link" type="fixed">
    <parent link="kmriiwa_base_footprint"/>
    <child link="kmriiwa_base_link"/>
    <origin rpy="0 0 0.0" xyz="0 0 0.025"/>
  </joint>
  <link name="kmriiwa_base_link">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <visual>
      <geometry>
        <mesh filename="package://kmr_description/meshes/kmp200/KMP200.dae"/>
      </geometry>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://kmr_description/meshes/kmp200/KMP200.dae"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.23500000000000001"/>
      <mass value="390"/>
      <!-- obtained from KMP200 model on fusion 360 with some modification to align center of mass with the given one-->
      <inertia ixx="28.95" ixy="0.0" ixz="0.0" iyy="44.03" iyz="0.0" izz="33.83"/>
    </inertial>
  </link>
  <joint name="kmriiwa_base_link_to_top" type="fixed">
    <parent link="kmriiwa_base_link"/>
    <child link="kmriiwa_base_top_link"/>
    <origin rpy="0 0 0.0" xyz="0 0 0.6749999999999999"/>
  </joint>
  <link name="kmriiwa_base_top_link"/>
  <joint name="kmriiwa_laser_B1_joint" type="fixed">
    <parent link="kmriiwa_base_link"/>
    <child link="kmriiwa_laser_B1_link"/>
    <origin rpy="0 0 -0.7854" xyz="0.464 -0.256 0.1168"/>
  </joint>
  <link name="kmriiwa_laser_B1_link">
    <visual>
      <origin rpy="3.1413 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/kmp200/sensors/visual/sick_lms1xx.dae"/>
      </geometry>
      <material name="DarkGrey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0 0.0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/kmp200/sensors/collision/sick_lms1xx.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.2"/>
      <inertia ixx="0.002355" ixy="0.0" ixz="0.0" iyy="0.002355" iyz="0.0" izz="0.0002809"/>
    </inertial>
  </link>
  <joint name="kmriiwa_laser_B4_joint" type="fixed">
    <parent link="kmriiwa_base_link"/>
    <child link="kmriiwa_laser_B4_link"/>
    <origin rpy="0 0 2.3562" xyz="-0.464 0.256 0.1168"/>
  </joint>
  <link name="kmriiwa_laser_B4_link">
    <visual>
      <origin rpy="0 3.1413 3.1413" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/kmp200/sensors/visual/sick_lms1xx.dae"/>
      </geometry>
      <material name="DarkGrey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/kmp200/sensors/collision/sick_lms1xx.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.2"/>
      <inertia ixx="0.002355" ixy="0.0" ixz="0.0" iyy="0.002355" iyz="0.0" izz="0.0002809"/>
    </inertial>
  </link>
  <!-- <link name="${robot_name}_front_left_wheel_link">
        <visual>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <geometry>
            <mesh filename="package://kmr_description/meshes/kmp200/wheels/omni_wheel_1.dae" scale="1.06695 1.06695 1.06695"/>
          </geometry>
        </visual>
        <collision>
          <origin xyz="0 0 0" rpy="1.57 0 0" />
          <geometry>
            <cylinder length="${wheel_thickness}" radius="${wheel_radius}" />
          </geometry>
        </collision>
    </link>

    <link name="${robot_name}_front_right_wheel_link">
        <visual>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <geometry>
            <mesh filename="package://kmr_description/meshes/kmp200/wheels/omni_wheel_1.dae" scale="1.06695 1.06695 1.06695"/>
          </geometry>
        </visual>
        <collision>
          <origin xyz="0 0 0" rpy="1.57 0 0" />
          <geometry>
            <cylinder length="${wheel_thickness}" radius="${wheel_radius}" />
          </geometry>
        </collision>
    </link>

    <link name="${robot_name}_back_left_wheel_link">
        <visual>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <geometry>
            <mesh filename="package://kmr_description/meshes/kmp200/wheels/omni_wheel_1.dae" scale="1.06695 1.06695 1.06695"/>
          </geometry>
        </visual>
        <collision>
          <origin xyz="0 0 0" rpy="1.57 0 0" />
          <geometry>
            <cylinder length="${wheel_thickness}" radius="${wheel_radius}" />
          </geometry>
        </collision>
    </link>

    <link name="${robot_name}_back_right_wheel_link">
        <visual>
          <origin xyz="0 0 0" rpy="0 0 0" />
          <geometry>
            <mesh filename="package://kmr_description/meshes/kmp200/wheels/omni_wheel_1.dae" scale="1.06695 1.06695 1.06695"/>
          </geometry>
        </visual>
        <collision>
          <origin xyz="0 0 0" rpy="1.57 0 0" />
          <geometry>
            <cylinder length="${wheel_thickness}" radius="${wheel_radius}" />
          </geometry>
        </collision>
        <inertial>
            <mass value="14"/>
            <inertia ixx="0.075016" ixy="0.0" ixz="0.0" iyy="0.075016" iyz="0.0" izz="0.109375"/>
        </inertial>
    </link>

    <joint name="${robot_name}_front_left_wheel_joint" type="revolute">
        <parent link="${robot_name}_base_link"/>
        <child link="${robot_name}_front_left_wheel_link"/>
        <axis xyz="0 1 0"/>
        <origin xyz="${wheel_base/2} ${track_gauge/2} ${wheel_radius-ground_clearance}"/>
        <limit effort="100" velocity="100"/>
        <joint_properties damping="0.0" friction="0.0"/>
    </joint>

    <joint name="${robot_name}_front_right_wheel_joint" type="revolute">
        <parent link="${robot_name}_base_link"/>
        <child link="${robot_name}_front_right_wheel_link"/>
        <origin xyz="${wheel_base/2} ${-1*track_gauge/2} ${wheel_radius-ground_clearance}"/>
        <axis xyz="0 1 0"/>
        <limit effort="100" velocity="100"/>
        <joint_properties damping="0.0" friction="0.0"/>
    </joint>

    <joint name="${robot_name}_back_left_wheel_joint" type="revolute">
        <parent link="${robot_name}_base_link"/>
        <child link="${robot_name}_back_left_wheel_link"/>
        <origin xyz="${-1*wheel_base/2} ${track_gauge/2} ${wheel_radius-ground_clearance}"/>
        <axis xyz="0 1 0"/>
        <limit effort="100" velocity="100"/>
        <joint_properties damping="0.0" friction="0.0"/>
    </joint>

    <joint name="${robot_name}_back_right_wheel_joint" type="revolute">
        <parent link="${robot_name}_base_link"/>
        <child link="${robot_name}_back_right_wheel_link"/>
        <origin xyz="${-1*wheel_base/2} ${-1*track_gauge/2} ${wheel_radius-ground_clearance}"/>
        <axis xyz="0 1 0"/>
        <limit effort="100" velocity="100"/>
        <joint_properties damping="0.0" friction="0.0"/>
    </joint> -->
  <!-- Gazebo planar move plugin -->
  <!-- <gazebo>
        <plugin name='planar_move' filename='libgazebo_ros_planar_move.so'>
            <robotNamespace>/${robot_name}</robotNamespace>
            <commandTopic>base/command/cmd_vel</commandTopic>
            <odometryTopic>base/state/odom</odometryTopic>
            <update_rate>100</update_rate>
            <publish_rate>10</publish_rate>

            
            <publish_odom>true</publish_odom>
            <publish_odom_tf>true</publish_odom_tf>

            <odometryFrame>odom</odometryFrame>
            <robotBaseFrame>base_link</robotBaseFrame>
            <odometryRate>20.0</odometryRate>

            <covariance_x>0.0001</covariance_x>
            <covariance_y>0.0001</covariance_y>
            <covariance_yaw>0.01</covariance_yaw>
        </plugin>
    </gazebo>  -->
  <!-- Hector ros force based planar move plugin -->
  <gazebo>
    <plugin filename="libgazebo_ros_force_based_move.so" name="ros_force_based_move">
      <robotNamespace>/kmriiwa</robotNamespace>
      <commandTopic>base/command/cmd_vel</commandTopic>
      <odometryTopic>base/state/odom</odometryTopic>
      <robotBaseFrame>kmriiwa_base_footprint</robotBaseFrame>
      <publishOdometryTf>true</publishOdometryTf>
      <odometryFrame>kmriiwa_odom</odometryFrame>
      <odometryRate>20.0</odometryRate>
      <yaw_velocity_p_gain>500</yaw_velocity_p_gain>
      <x_velocity_p_gain>1000</x_velocity_p_gain>
      <y_velocity_p_gain>1000</y_velocity_p_gain>
    </plugin>
  </gazebo>
  <gazebo reference="kmriiwa_laser_B1_link">
    <sensor name="sensor_B1" type="ray">
      <always_on>true</always_on>
      <visualize>true</visualize>
      <update_rate>10</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>640</samples>
            <resolution>1.000000</resolution>
            <min_angle>-2.30383</min_angle>
            <max_angle>2.30383</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.12</min>
          <max>15</max>
          <resolution>0.0100</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_sensor_B1_controller">
        <robotNamespace>/</robotNamespace>
        <topicName>/kmriiwa/base/state/LaserB1Scan</topicName>
        <output_type>sensor_msgs/LaserScan</output_type>
        <frameName>kmriiwa_laser_B1_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="kmriiwa_laser_B4_link">
    <sensor name="sensor_B4" type="ray">
      <always_on>true</always_on>
      <visualize>true</visualize>
      <update_rate>10</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>640</samples>
            <resolution>1.000000</resolution>
            <min_angle>-2.30383</min_angle>
            <max_angle>2.30383</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.12</min>
          <max>15</max>
          <resolution>0.0100</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_sensor_B4_controller">
        <robotNamespace>/</robotNamespace>
        <topicName>/kmriiwa/base/state/LaserB4Scan</topicName>
        <output_type>sensor_msgs/LaserScan</output_type>
        <frameName>kmriiwa_laser_B4_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="kmriiwa_base_link">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="kmriiwa_front_left_wheel_link">
    <mu1 value="0.0"/>
    <mu2 value="0.0"/>
    <surface>
      <contact>
        <collide_without_contact>true</collide_without_contact>
      </contact>
    </surface>
  </gazebo>
  <gazebo reference="kmriiwa_front_right_wheel_link">
    <mu1 value="0.0"/>
    <mu2 value="0.0"/>
    <surface>
      <contact>
        <collide_without_contact>true</collide_without_contact>
      </contact>
    </surface>
  </gazebo>
  <gazebo reference="kmriiwa_back_left_wheel_link">
    <mu1 value="0.0"/>
    <mu2 value="0.0"/>
    <surface>
      <contact>
        <collide_without_contact>true</collide_without_contact>
      </contact>
    </surface>
  </gazebo>
  <gazebo reference="kmriiwa_back_right_wheel_link">
    <mu1 value="0.0"/>
    <mu2 value="0.0"/>
    <surface>
      <contact>
        <collide_without_contact>true</collide_without_contact>
      </contact>
    </surface>
  </gazebo>
  <!--riser flange-->
  <joint name="kmriiwa_base_top_riser_flange_joint" type="fixed">
    <parent link="kmriiwa_base_top_link"/>
    <child link="kmriiwa_riser_flange_link"/>
    <origin rpy="0 0 -1.5708" xyz="0.363 -0.184 -0.01"/>
  </joint>
  <link name="kmriiwa_riser_flange_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.0" radius="0.121"/>
      </geometry>
      <material name="White"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.0" radius="0.121"/>
      </geometry>
    </collision>
  </link>
  <!--joint between {parent} and link_0-->
  <joint name="kmriiwa_riser_flange_link_kmriiwa_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.0"/>
    <parent link="kmriiwa_riser_flange_link"/>
    <child link="kmriiwa_link_0"/>
  </joint>
  <link name="kmriiwa_link_0">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <mass value="5"/>
      <inertia ixx="0.05" ixy="0" ixz="0" iyy="0.06" iyz="0" izz="0.03"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/visual/link_0.stl"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/collision/link_0.stl"/>
      </geometry>
      <material name="Grey"/>
    </collision>
    <self_collision_checking>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <capsule length="0.25" radius="0.15"/>
      </geometry>
    </self_collision_checking>
  </link>
  <!-- joint between link_0 and link_1 -->
  <joint name="kmriiwa_joint_1" type="revolute">
    <parent link="kmriiwa_link_0"/>
    <child link="kmriiwa_link_1"/>
    <origin rpy="0 0 0" xyz="0 0 0.1575"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.9670597283903604" upper="2.9670597283903604" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.9321531433504737" soft_upper_limit="2.9321531433504737"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="kmriiwa_link_1">
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.03 0.12"/>
      <mass value="4"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.09" iyz="0" izz="0.02"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/visual/link_1.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/collision/link_1.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <!-- joint between link_1 and link_2 -->
  <joint name="kmriiwa_joint_2" type="revolute">
    <parent link="kmriiwa_link_1"/>
    <child link="kmriiwa_link_2"/>
    <origin rpy="1.5707963267948966   0 3.141592653589793" xyz="0 0 0.2025"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.0943951023931953" upper="2.0943951023931953" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.0594885173533086" soft_upper_limit="2.0594885173533086"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="kmriiwa_link_2">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0003 0.059 0.042"/>
      <mass value="4"/>
      <inertia ixx="0.05" ixy="0" ixz="0" iyy="0.018" iyz="0" izz="0.044"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/visual/link_2.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/collision/link_2.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <!-- joint between link_2 and link_3 -->
  <joint name="kmriiwa_joint_3" type="revolute">
    <parent link="kmriiwa_link_2"/>
    <child link="kmriiwa_link_3"/>
    <origin rpy="1.5707963267948966 0 3.141592653589793" xyz="0 0.2045 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.9670597283903604" upper="2.9670597283903604" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.9321531433504737" soft_upper_limit="2.9321531433504737"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="kmriiwa_link_3">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.03 0.13"/>
      <mass value="3"/>
      <inertia ixx="0.08" ixy="0" ixz="0" iyy="0.075" iyz="0" izz="0.01"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/visual/link_3.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/collision/link_3.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <!-- joint between link_3 and link_4 -->
  <joint name="kmriiwa_joint_4" type="revolute">
    <parent link="kmriiwa_link_3"/>
    <child link="kmriiwa_link_4"/>
    <origin rpy="1.5707963267948966 0 0" xyz="0 0 0.2155"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.0943951023931953" upper="2.0943951023931953" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.0594885173533086" soft_upper_limit="2.0594885173533086"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="kmriiwa_link_4">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.067 0.034"/>
      <mass value="2.7"/>
      <inertia ixx="0.03" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.029"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/visual/link_4.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/collision/link_4.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <!-- joint between link_4 and link_5 -->
  <joint name="kmriiwa_joint_5" type="revolute">
    <parent link="kmriiwa_link_4"/>
    <child link="kmriiwa_link_5"/>
    <origin rpy="-1.5707963267948966 3.141592653589793 0" xyz="0 0.1845 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.9670597283903604" upper="2.9670597283903604" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.9321531433504737" soft_upper_limit="2.9321531433504737"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="kmriiwa_link_5">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0001 0.021 0.076"/>
      <mass value="1.7"/>
      <inertia ixx="0.02" ixy="0" ixz="0" iyy="0.018" iyz="0" izz="0.005"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/visual/link_5.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/collision/link_5.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <!-- joint between link_5 and link_6 -->
  <joint name="kmriiwa_joint_6" type="revolute">
    <parent link="kmriiwa_link_5"/>
    <child link="kmriiwa_link_6"/>
    <origin rpy="1.5707963267948966 0 0" xyz="0 0 0.2155"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.0943951023931953" upper="2.0943951023931953" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.0594885173533086" soft_upper_limit="2.0594885173533086"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="kmriiwa_link_6">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.0006 0.0004"/>
      <mass value="1.8"/>
      <inertia ixx="0.005" ixy="0" ixz="0" iyy="0.0036" iyz="0" izz="0.0047"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/visual/link_6.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/collision/link_6.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <!-- joint between link_6 and link_7 -->
  <joint name="kmriiwa_joint_7" type="revolute">
    <parent link="kmriiwa_link_6"/>
    <child link="kmriiwa_link_7"/>
    <origin rpy="-1.5707963267948966 3.141592653589793 0" xyz="0 0.081 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-3.0543261909900763" upper="3.0543261909900763" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-3.01941960595019" soft_upper_limit="3.01941960595019"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="kmriiwa_link_7">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.02"/>
      <mass value="0.3"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/visual/link_7.stl"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://kmr_description/meshes/iiwa14/collision/link_7.stl"/>
      </geometry>
      <material name="Grey"/>
    </collision>
  </link>
  <joint name="kmriiwa_joint_ee" type="fixed">
    <parent link="kmriiwa_link_7"/>
    <child link="kmriiwa_link_ee"/>
    <origin rpy="0 0 0" xyz="0 0 0.045"/>
  </joint>
  <link name="kmriiwa_link_ee">
    </link>
  <!-- Enable the Joint Feedback -->
  <gazebo reference="kmriiwa_joint_7">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <!-- The ft_sensor plugin -->
  <gazebo>
    <plugin filename="libgazebo_ros_ft_sensor.so" name="ft_sensor">
      <updateRate>50.0</updateRate>
      <topicName>/kmriiwa/state/CartesianWrench</topicName>
      <jointName>kmriiwa_joint_7</jointName>
    </plugin>
  </gazebo>
  <!-- Load Gazebo lib and set the robot namespace -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/kmriiwa/arm</robotNamespace>
      <robotParam>/kmriiwa/robot_description</robotParam>
    </plugin>
  </gazebo>
  <!-- Link0 -->
  <gazebo reference="kmriiwa_link_0">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link1 -->
  <gazebo reference="kmriiwa_link_1">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link2 -->
  <gazebo reference="kmriiwa_link_2">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link3 -->
  <gazebo reference="kmriiwa_link_3">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link4 -->
  <gazebo reference="kmriiwa_link_4">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link5 -->
  <gazebo reference="kmriiwa_link_5">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link6 -->
  <gazebo reference="kmriiwa_link_6">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Link7 -->
  <gazebo reference="kmriiwa_link_7">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <transmission name="kmriiwa_tran_1">
    <robotNamespace>/kmriiwa/arm</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="kmriiwa_joint_1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="kmriiwa_motor_1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="kmriiwa_tran_2">
    <robotNamespace>/kmriiwa/arm</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="kmriiwa_joint_2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="kmriiwa_motor_2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="kmriiwa_tran_3">
    <robotNamespace>/kmriiwa/arm</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="kmriiwa_joint_3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="kmriiwa_motor_3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="kmriiwa_tran_4">
    <robotNamespace>/kmriiwa/arm</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="kmriiwa_joint_4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="kmriiwa_motor_4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="kmriiwa_tran_5">
    <robotNamespace>/kmriiwa/arm</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="kmriiwa_joint_5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="kmriiwa_motor_5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="kmriiwa_tran_6">
    <robotNamespace>/kmriiwa/arm</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="kmriiwa_joint_6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="kmriiwa_motor_6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="kmriiwa_tran_7">
    <robotNamespace>/kmriiwa/arm</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="kmriiwa_joint_7">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="kmriiwa_motor_7">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- This file is a placeholder which is included by default from
       kmriiwa.urdf.xacro. If a robot is being customized and requires
       additional URDF, add them here. -->
</robot>
